---
import Layout from "../layouts/Layout.astro";
import "$src/styles/main.css";
export const iiPageNames = [
  "displayUserNumber",
  "displayUserNumberTempKey",
  "promptDeviceAlias",
  "authorizeNew",
  "authorizeNewKnown",
  "authorizeNewAlt",
  "authorizeNewKnownAlt",
  "authorizeUseExisting",
  "authorizeUseExistingKnown",
  "authorizeUseExistingKnownAlt",
  "authorizePick",
  "authorizePickMany",
  "manageNew",
  "manageUseExisting",
  "managePick",
  "protectDeviceInfo",
  "unprotectDeviceInfo",
  "resetPhraseInfo",
  "recoverWithDevice",
  "savePasskey",
  "savePasskeyWithPin",
  "promptCaptcha",
  "promptCaptchaReady",
  "pinInfo",
  "setPin",
  "confirmPin",
  "usePin",
  "displayManage",
  "displayManageSingle",
  "displayManageTempKey",
  "pollForTentativeDevicePage",
  "deviceRegistrationDisabledInfo",
  "showVerificationCode",
  "verifyTentativeDevice",
  "loader",
  "addPhrase",
  "addPhraseWarning",
  "displaySeedPhrase",
  "confirmSeedPhrase",
  "banner",
  "toasts",
  "dappsExplorer",
  "addDeviceSuccess",
  "allowCredentials",
  "abortedCredentialsInternalError",
];

export function getStaticPaths() {
  return iiPageNames.map((page) => ({ params: { page } }));
}

const { page } = Astro.params;
---

<Layout title={page ?? "showcase"}>
  <main id="pageContent" aria-live="polite" data-page-name={page}></main>
  <div id="loaderContainer"></div>
  <script>
    import { iiPages } from "$showcase/showcase";

    const page = (document.querySelector("[data-page-name]") as HTMLElement)
      .dataset?.pageName as string;

    const f = iiPages[page];
    f();
  </script>
</Layout>
